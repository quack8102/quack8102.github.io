<!DOCTYPE html>
<html>
<head><meta charset="UTF-8"><script type="text/javascript" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML" async></script><script type="text/x-mathjax-config">MathJax.Hub.Config({tex2jax: {inlineMath: [ ["$","$"], ["\(","\)"] ],displayMath: [ ["$$","$$"], ["\[","\]"] ]}});</script></head>
<body>
<h1>Problem A: 小卖部 </h1><p>Time Limit: 2000 ms    Memory Limit: 512 MB</p><h2>Description</h2># 小卖部(shop)<br/>
<br/>
 ### 题目描述<br/>
<br/>
 ysgh 是一名数数大师。<br/>
<br/>
 现在小卖部有<script id="MathJax-Element-1" type="math/tex">n</script>种商品，第<script id="MathJax-Element-2" type="math/tex">i</script>种有<script id="MathJax-Element-3" type="math/tex">a_i</script>个，价格为<script id="MathJax-Element-4" type="math/tex">b_i</script>。<br/>
<br/>
 ysgh 总共去了<script id="MathJax-Element-5" type="math/tex">Q</script>天小卖部，第<script id="MathJax-Element-6" type="math/tex">i</script>天他只会购买编号在<script id="MathJax-Element-7" type="math/tex">l_i \sim r_i</script>的商品。他的卡里有<script id="MathJax-Element-8" type="math/tex">c_i</script>元，因此他只能购买价值和不超过<script id="MathJax-Element-9" type="math/tex">c_i</script>元的物品。<br/>
<br/>
 ysgh 想要知道有多少种购买物品的方案。由于答案很大，你只需要输出答案对$1000000007$取模后的结果。两种方案被认为是不同的当且仅当存在一种物品，其购买数量不同。<br/>
<br/>
 当然，ysgh玩了个小花招，你需要通过上一个询问的答案来推导下一个询问的参数。<br/>
<br/>
 ### 输入格式<br/>
<br/>
 从 ```shop.in``` 中读入数据。<br/>
<br/>
 第一行两个正整数<script id="MathJax-Element-10" type="math/tex">n,Q</script>。<br/>
<br/>
 接下来<script id="MathJax-Element-11" type="math/tex">n</script>行，第<script id="MathJax-Element-12" type="math/tex">i</script>行两个正整数表示<script id="MathJax-Element-13" type="math/tex">a_i,b_i</script>。<br/>
<br/>
 接下来<script id="MathJax-Element-14" type="math/tex">Q</script>行，第<script id="MathJax-Element-15" type="math/tex">i</script>行三个正整数<script id="MathJax-Element-16" type="math/tex">l'_i,r'_i,c_i</script>，表示一次询问。<br/>
<br/>
 设上一次询问的答案为<script id="MathJax-Element-17" type="math/tex">lastans</script>，若不存在则<script id="MathJax-Element-18" type="math/tex">lastans=0</script>。<br/>
<br/>
 则<script id="MathJax-Element-19" type="math/tex">l_i=\min ((l'_i+lastans) \mod n +1,(r'_i+lastans) \mod n +1)</script>。<br/>
<br/>
 且<script id="MathJax-Element-20" type="math/tex">r_i=\max ((l'_i+lastans) \mod n +1,(r'_i+lastans) \mod n +1)</script>。<br/>
<br/>
 ### 输出格式<br/>
<br/>
 向```shop.out``` 中输出数据。<br/>
<br/>
 <script id="MathJax-Element-21" type="math/tex">Q</script>行，一行一个整数，表示方案数对$1000000007$取模后的结果。<br/>
<br/>
 ### 样例<br/>
<br/>
 #### 样例1输入<br/>
<br/>
 ```plain<br/>
 3 3<br/>
 1 1<br/>
 1 2<br/>
 1 3<br/>
 1 3 1<br/>
 1 3 2<br/>
 1 3 3<br/>
 ```<br/>
<br/>
 #### 样例1输出<br/>
<br/>
 ```<br/>
 2<br/>
 3<br/>
 4<br/>
 ```<br/>
<br/>
 ### 数据范围<br/>
<br/>
 |  数据点编号  | <script id="MathJax-Element-22" type="math/tex">n\leq</script>  | <script id="MathJax-Element-23" type="math/tex">Q \leq </script>|<br/>
 | :----------: | :------: | :-----: |<br/>
 |     <script id="MathJax-Element-24" type="math/tex">1</script>      |  <script id="MathJax-Element-25" type="math/tex">10</script>    | <script id="MathJax-Element-26" type="math/tex">10</script> |<br/>
 |  <script id="MathJax-Element-27" type="math/tex">2 \sim 3</script>  |  <script id="MathJax-Element-28" type="math/tex">50</script>    | <script id="MathJax-Element-29" type="math/tex">50</script> |<br/>
 |  <script id="MathJax-Element-30" type="math/tex">4 \sim 6</script>  |  <script id="MathJax-Element-31" type="math/tex">200</script>   | <script id="MathJax-Element-32" type="math/tex">200</script> |<br/>
 |  <script id="MathJax-Element-33" type="math/tex">7 \sim 9</script>  |  <script id="MathJax-Element-34" type="math/tex">1000</script>  | <script id="MathJax-Element-35" type="math/tex">1000</script> |<br/>
 | <script id="MathJax-Element-36" type="math/tex">10 \sim 12</script> |  <script id="MathJax-Element-37" type="math/tex">1000</script>  | <script id="MathJax-Element-38" type="math/tex">10000</script> |<br/>
 | <script id="MathJax-Element-39" type="math/tex">13 \sim 15</script> |  <script id="MathJax-Element-40" type="math/tex">1000</script>  | <script id="MathJax-Element-41" type="math/tex">50000</script> |<br/>
 | <script id="MathJax-Element-42" type="math/tex">16 \sim 18</script> | <script id="MathJax-Element-43" type="math/tex">10000</script>  | <script id="MathJax-Element-44" type="math/tex">1000</script> |<br/>
 | <script id="MathJax-Element-45" type="math/tex">19 \sim 20</script> | <script id="MathJax-Element-46" type="math/tex">10000</script>  | <script id="MathJax-Element-47" type="math/tex">50000</script> |<br/>
<br/>
 对于所有测试数据，满足<script id="MathJax-Element-48" type="math/tex">1 \le n,Q,1 \le a_i,b_i,c_i \le 1000,1 \le l'_i,r'_i \le n</script>。<br/>
<br/>
 时间限制：<script id="MathJax-Element-49" type="math/tex">\texttt{2S}</script><br/>
<br/>
 空间限制：<script id="MathJax-Element-50" type="math/tex">\texttt{512MB}</script><br/>
</body></html>